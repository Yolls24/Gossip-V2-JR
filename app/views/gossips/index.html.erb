<div class="container">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1>Les potins</h1>
    <%= link_to "CrÃ©er un nouveau potin", new_gossip_path, class: "btn btn-success" %>
  </div>

  <div class="row">
    <% @gossips.each do |gossip| %>
      <div class="col-md-4 mb-4">
        <div class="card h-100 shadow-sm">
          <div class="card-body">
            <h5 class="card-title"><%= link_to gossip.title, gossip_path(gossip) %></h5>
            <p class="card-text"><%= truncate(gossip.content, length: 100) %></p>
          </div>
          <div class="card-footer d-flex justify-content-between align-items-center">
            <small class="text-muted">
              Par <%= link_to gossip.user.first_name, user_path(gossip.user) %>
            </small>
            <% if current_user == gossip.user %>
              <%= link_to "Supprimer", gossip_path(gossip), method: :delete, data: { confirm: "Vraiment supprimer ce potin ?" }, class: "btn btn-sm btn-outline-danger" %>
            <% end %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>


